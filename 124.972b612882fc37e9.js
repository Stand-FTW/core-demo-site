"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[124],{82455:(I,m,s)=>{s.d(m,{z:()=>E});var c=s(15861),e=s(70655);var d=s(98274),M=s(48058),g=s(50727),b=s(71644),l=s(98739),x=s(59256);var y=s(45088);let E=class{constructor(h,p,O){this.modalCrtl=h,this.toastService=p,this.pedidoService=O,this.subscriptions=new g.w0}ngOnInit(){this.id&&this.findById()}ngOnDestroy(){this.subscriptions.unsubscribe()}findById(){const h=this.pedidoService.findById(this.id).subscribe({next:p=>{this.pedido=p}});this.subscriptions.add(h)}openJustificativa(){const{acrescimo_desconto:h,descricao:p}=this.pedido;h&&0!=h?!h||p?this.toastService.presentInfoOverlay({data:p,footer:"-"}):this.toastService.presentToast({titulo:"Ac\u0155escimo/desconto sem justificativa",detalhe:`O colaborador ${this.pedido.vendedor.nome} n\xe3o colocou uma justificativa`,duracao:l.m4.shortDuration,gravidade:l.kl.ERRO}):this.toastService.presentToast({titulo:"Sem ac\u0155escimo/desconto",detalhe:"O pedido n\xe3o teve acr\xe9scimo ou descontos",duracao:l.m4.shortDuration,gravidade:l.kl.ATENCAO})}openCliente(){const{cliente:h}=this.pedido;"f1df6e34-ab41-4637-8527-826f763e25b6"!=h.id||this.toastService.presentToast({titulo:"N\xe3o cadastrado",detalhe:"Cliente n\xe3o identificado ou cadastrado",duracao:l.m4.shortDuration,gravidade:l.kl.ATENCAO})}openColaborador(){const{vendedor:h}=this.pedido;this.showModal(y.E,{user:h})}openLoja(){const{loja:h}=this.pedido}downloadNF(){}refresh(){const{id:h}=this.pedido,p=this.pedidoService.findById(h).subscribe(O=>{this.pedido=O});this.subscriptions.add(p)}fechar(){this.modalCrtl.dismiss()}showModal(h,p){var O=this;return(0,c.Z)(function*(){return yield(yield O.modalCrtl.create({component:h,backdropDismiss:!1,cssClass:"modal-size-100",componentProps:p,id:"funcionario-dashboard"})).present()})()}};E.ctorParameters=()=>[{type:M.IN},{type:x.D},{type:b.$}],E.propDecorators={id:[{type:d.IIB}],pedido:[{type:d.IIB}]},E=(0,e.gn)([(0,d.wA2)({selector:"app-pedido-detail",template:'<ion-content appScrollTheme>\n  <ng-container *ngIf="pedido">\n\n    <div class="surface-ground px-4 py-3 md:px-6 lg:px-8 ">\n      <div class="surface-card grid grid-nogutter border-round shadow-2 ">\n\n        <div class="col-12 flex p-2 surface-100 border-round-top">\n          <div class="p-2 flex-auto text-center md:text-left">\n            <span class="text-700 block">Solicitado em</span>\n            <span class="text-900 font-medium block mt-2">{{ pedido.created_at | date: \'dd/MM/yyyy - HH:mm:ss\' : \'-0300\'\n              }}h</span>\n          </div>\n          <p-divider align="center" layout="vertical" styleClass="h-full  mx-0 lg:mx-3 surface-border"></p-divider>\n          <div class="p-2 flex-auto text-center md:text-left">\n            <span class="text-700 block">Atualizado em</span>\n            <span class="text-900 font-medium block mt-2">{{ pedido.updated_at | date: \'dd/MM/yyyy - HH:mm:ss\' : \'-0300\'\n              }}h</span>\n          </div>\n          <p-divider align="center" layout="vertical" styleClass="h-full  mx-0 lg:mx-3 surface-border"></p-divider>\n          <div class="p-2 flex-auto text-center md:text-left">\n            <span class="text-700 block">Cancelado em:</span>\n            <span *ngIf="pedido.deleted_at" class="text-900 font-medium block mt-2">{{ pedido.deleted_at | date:\n              \'dd/MM/yyyy - HH:mm:ss\'}}h</span>\n            <span *ngIf="!pedido.deleted_at" class="text-900 font-medium block mt-2">Pedido N\xc3O cancelado</span>\n          </div>\n        </div>\n\n        <div class="surface-section px-4 py-2 w-full">\n          <div class="flex flex-column sm:flex-row sm:align-items-center sm:justify-content-between py-3">\n            <div class=" mb-3 sm:mb-0">\n              <span class="font-medium text-xl text-900 mr-2">Pedido:</span>\n              <span class="font-medium text-lg text-cyan-400">{{ pedido.id }}</span>\n              <br>\n              <span class="font-medium text-xl text-900 mr-2 mt-2">Status:</span>\n              <span class="font-medium text-lg text-cyan-400">{{ pedido.status_pedido }}</span>\n            </div>\n            <div>\n              <button pButton pRipple label="Atualizar" icon="pi pi-refresh" (click)="refresh()"\n                class="p-button-outlined p-button-secondary text-cyan-400 mr-2"></button>\n              <button pButton pRipple label="Baixar NF" icon="pi pi-print" (click)="downloadNF()"\n                class="p-button-outlined p-button-secondary text-cyan-400"></button>\n            </div>\n          </div>\n          <div class="border-round surface-border border-1">\n            <ul class="list-none p-0 m-0">\n              <li *ngFor="let i of pedido.itens_produto"\n                class="p-3 border-bottom-1 surface-border flex align-items-start sm:align-items-center">\n                <img [src]="i.produto.image_url || \'assets/imgs/outros/default-produto.png\'"\n                  class="w-3rem sm:w-8rem flex-shrink-0 mr-3 shadow-2" />\n                <div class="flex flex-column">\n                  <span class="text-900 font-medium text-xl mb-2">{{ i.produto.nome }}</span>\n                  <span class="text-600 mb-3">Valor unit\xe1rio (R$): {{ i.valor_unitario | currency:\'BRL\': \'\' }}</span>\n                  <span class="text-900 font-medium">Quantidade: {{ i.quantidade }}</span>\n                </div>\n                <span class="text-900 font-medium text-lg ml-auto">Sub total (R$): {{ i.sub_total | currency:\'BRL\': \'\'\n                  }}</span>\n              </li>\n            </ul>\n          </div>\n          <div class="flex flex-wrap mt-5 pb-3">\n            <div class="w-full lg:w-6 pl-3">\n              \x3c!--\n              <span class="font-medium text-900">Shipping Address</span>\n              <div class="flex flex-column text-900 mt-3 mb-5">\n                <span class="mb-1">Celeste Slater</span>\n                <span class="mb-1">606-3727 Ullamcorper. Roseville NH 11523</span>\n                <span>(786) 713-8616</span>\n              </div>\n              --\x3e\n\n              <span class="font-medium text-900">Forma de pagamento</span>\n              \x3c!--\n              <div class="flex align-items-center mt-3">\n                <img src="assets/images/blocks/ecommerce/ordersummary/visa.png" class="w-4rem mr-3" />\n                <div class="flex flex-column">\n                  <span class="text-900 mb-1">Visa Debit Card</span>\n                  <span class="text-900 font-medium">**** **** **** 1234</span>\n                </div>\n              </div>\n            --\x3e\n              <div class="flex align-items-center mt-3">\n                {{pedido.pagamento_forma}}\n              </div>\n            </div>\n\n            <div class="w-full lg:w-6 pl-3 lg:pl-0 lg:pr-3 flex align-items-end mt-5 lg:mt-0">\n              <ul class="list-none p-0 m-0 w-full">\n                <li class="mb-3"><span class="font-medium text-900">Resumo</span></li>\n                <li class="flex justify-content-between mb-3">\n                  <span class="text-900">Subtotal</span>\n                  <span class="text-900 font-medium text-lg">R$ {{ pedido.total_pedido | currency:\'BRL\': \'\' }}</span>\n                </li>\n                <li class="flex justify-content-between mb-3 cursor-pointer" (click)="openJustificativa()">\n                  <span class="text-900">Desconto/Acr\xe9scimo\n                    <i class="pi pi-question-circle text-xs"></i>\n                  </span>\n                  <span class="text-900 font-medium text-lg">R$ {{ pedido.acrescimo_desconto | currency:\'BRL\': \'\'\n                    }}</span>\n                </li>\n                <li class="flex justify-content-between border-top-1 surface-border py-3">\n                  <span class="text-900 font-medium">Total</span>\n                  <span class="text-900 font-bold text-lg">R$ {{ pedido.total_devido | currency:\'BRL\': \'\' }}</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <div class="col-12 flex p-2 surface-100 border-round-bottom">\n          <div class="p-2 flex-auto text-center md:text-left">\n            <span class="text-700 block cur">Vendedor</span>\n            <span class="text-900 font-medium block mt-2 cursor-pointer" (click)="openColaborador()">{{\n              pedido.vendedor.nome }}\n              <i class="pi pi-external-link text-cyan-400 text-xs"></i>\n            </span>\n          </div>\n          <p-divider align="center" layout="vertical" styleClass="h-full  mx-0 lg:mx-3 surface-border"></p-divider>\n          <div class="p-2 flex-auto text-center md:text-left">\n            <span class="text-700 block">Cliente</span>\n            <span class="text-900 font-medium block mt-2 cursor-pointer" (click)="openCliente()">{{ pedido.cliente.nome\n              }}\n              <i class="pi pi-external-link text-cyan-400 text-xs"></i>\n            </span>\n          </div>\n          <p-divider align="center" layout="vertical" styleClass="h-full  mx-0 lg:mx-3 surface-border"></p-divider>\n          <div class="p-2 flex-auto text-center md:text-left">\n            <span class="text-700 block">Loja</span>\n            <span class="text-900 font-medium block mt-2 cursor-pointer" (click)="openLoja()">{{ pedido.loja.nome }}\n              <i class="pi pi-external-link text-cyan-400 text-xs"></i>\n            </span>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf="!pedido">\n    <app-attention-surface title=\'Inv\xe1lido\' subtitle=\'Associa\xe7\xe3o com pedido inv\xe1lida\'\n      message=\'N\xe3o foi poss\xedvel associar no ato de finaliza\xe7\xe3o do pedido, a transa\xe7\xe3o\'></app-attention-surface>\n  </ng-container>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button expand="full" color="danger" (click)="fechar()">Fechar</ion-button>\n  </ion-toolbar>\n</ion-footer>',styles:[""]})],E)},91746:(I,m,s)=>{s.d(m,{J:()=>a});var c=s(70655),e=s(98274),f=s(36895),_=s(24006),d=s(48058),M=s(92216),g=s(77604),b=s(9764),l=s(51740),x=s(35593),r=s(82210),P=s(58783),T=s(92665),A=s(23520),S=s(70585),D=s(25047),y=s(50613),E=s(17913),L=s(28396),h=s(32137),p=s(21493),O=s(78177),v=s(63054),C=s(61989),o=s(91670),n=s(85226),t=s(82455);let a=class{};a=(0,c.gn)([(0,e.LVF)({declarations:[t.z],imports:[f.ez,_.u5,_.UX,d.Pc,M.uH,g.FI,b.Q,l.j,x.hJ,r.kW,P.LU,T.O,A.zz,S._8,D.L$,y.cc,E.Iu,L.U$,h.D,p.S,O.JH,v.A,C.nD,o.A,n.o],exports:[t.z]})],a)},75828:(I,m,s)=>{var c,d,e;s.d(m,{$x:()=>c,Gz:()=>e,SX:()=>_,YU:()=>f}),(d=c||(c={})).CRIADO="CRIADO",d.PENDENTE_ESTOQUE="PENDENTE_ESTOQUE",d.PENDENTE_PAGAMENTO="PENDENTE_PAGAMENTO",d.PAGO="PAGO",d.FATURADO="FATURADO",d.ENVIADO="ENVIADO",d.ENTREGUE="ENTREGUE",d.FINALIZADO="FINALIZADO",d.CANCELAMENTO_SOLICITADO="CANCELAMENTO_SOLICITADO",d.CANCELADO="CANCELADO",function(d){d.PDV="PDV",d.E_COMMERCE="E_COMMERCE"}(e||(e={}));const f=[{label:"PDV",value:e.PDV},{label:"E-Commerce",value:e.E_COMMERCE}],_=[{label:"Criado",value:c.CRIADO},{label:"Pendente de Estoque",value:c.PENDENTE_ESTOQUE},{label:"Pendente de Pagamento",value:c.PENDENTE_PAGAMENTO},{label:"Pago",value:c.PAGO},{label:"Faturado",value:c.FATURADO},{label:"Enviado",value:c.ENVIADO},{label:"Entregue",value:c.ENTREGUE},{label:"Finalizado",value:c.FINALIZADO},{label:"Cancelamento Solicitado",value:c.CANCELAMENTO_SOLICITADO},{label:"Cancelado",value:c.CANCELADO}]},7689:(I,m,s)=>{var c,d,e;s.d(m,{$X:()=>_,KO:()=>e,_2:()=>f}),(d=c||(c={})).CASH_IN="CASH_IN",d.CASH_OUT="CASH_OUT",function(d){d.ASSINATURA="ASSINATURA",d.PRODUTO="PRODUTO",d.SERVICO="SERVICO",d.DEVOLUCAO="DEVOLUCAO",d.INSUMO="INSUMO",d.DESPESA="DESPESA",d.FUNCIONARIO="FUNCIONARIO",d.TERCEIROS="TERCEIROS",d.OUTROS="OUTROS"}(e||(e={}));const f=[{label:"Cash In (Entrada)",value:c.CASH_IN},{label:"Cash Out (Sa\xedda)",value:c.CASH_OUT}],_=[{label:"Assinatura",value:e.ASSINATURA},{label:"Produto",value:e.PRODUTO},{label:"Servi\xe7o",value:e.SERVICO},{label:"Devolu\xe7\xe3o",value:e.DEVOLUCAO},{label:"Insumo",value:e.INSUMO},{label:"Despesa",value:e.DESPESA},{label:"Funcion\xe1rio",value:e.FUNCIONARIO},{label:"Terceiros",value:e.TERCEIROS},{label:"Outros",value:e.OUTROS}]},71644:(I,m,s)=>{s.d(m,{$:()=>g});var c=s(70655),e=s(80529),f=s(98274),_=s(99038),d=s(40199),M=s(55583);let g=class{constructor(l){this.http=l}create(l,x=!1){const r=x?`${_.Hz.baseURL}/pedidos/pdv`:`${_.Hz.baseURL}/pedidos`;return this.http.post(r,l,{responseType:"json"})}list(l,x=new d.k){let r=M.t.getPageOptionsParams(x);return l&&(l.acrescimo_desconto&&(r=r.append("acrescimo_desconto",l.acrescimo_desconto)),l.cliente_id&&(r=r.append("cliente_id",l.cliente_id)),l.local&&(r=r.append("local",l.local)),l.loja_id&&(r=r.append("loja_id",l.loja_id)),l.pagamento_forma&&(r=r.append("pagamento_forma",l.pagamento_forma)),l.status_pedido&&(r=r.append("status_pedido",l.status_pedido)),l.vendedor_id&&(r=r.append("vendedor_id",l.vendedor_id)),l.searchedCliente&&(r=r.append("searchedCliente",l.searchedCliente)),l.searchedLoja&&(r=r.append("searchedLoja",l.searchedLoja)),l.searchedVendedor&&(r=r.append("searchedVendedor",l.searchedVendedor)),l.searchedPedido&&(r=r.append("searchedPedido",l.searchedPedido)),l.min_total&&(r=r.append("min_total",l.min_total)),l.max_total&&(r=r.append("max_total",l.max_total)),l.created_at&&(r=r.append("created_at",l.created_at.toString()))),this.http.get(`${_.Hz.baseURL}/pedidos`,{responseType:"json",params:r})}findById(l){return this.http.get(`${_.Hz.baseURL}/pedidos/${l}`,{responseType:"json"})}};g.ctorParameters=()=>[{type:e.eN}],g=(0,c.gn)([(0,f.GSi)({providedIn:"root"})],g)},78177:(I,m,s)=>{s.d(m,{JH:()=>C});var c=s(36895),e=s(98274),f=s(24006),_=s(19592);const d=["sliderHandle"],M=["sliderHandleStart"],g=["sliderHandleEnd"],b=function(o,n){return{left:o,width:n}};function l(o,n){if(1&o&&e._UZ(0,"span",4),2&o){const t=e.oxw();e.Q6J("ngStyle",e.WLB(1,b,null!==t.offset&&void 0!==t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const x=function(o,n){return{bottom:o,height:n}};function r(o,n){if(1&o&&e._UZ(0,"span",4),2&o){const t=e.oxw();e.Q6J("ngStyle",e.WLB(1,x,null!==t.offset&&void 0!==t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const P=function(o){return{height:o}};function T(o,n){if(1&o&&e._UZ(0,"span",4),2&o){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,P,t.handleValue+"%"))}}const A=function(o){return{width:o}};function S(o,n){if(1&o&&e._UZ(0,"span",4),2&o){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,A,t.handleValue+"%"))}}const D=function(o,n){return{left:o,bottom:n}};function y(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"span",5,6),e.NdJ("keydown",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onHandleKeydown(i))})("mousedown",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onMouseDown(i))})("touchstart",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchStart(i))})("touchmove",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchMove(i))})("touchend",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchEnd(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(8,D,"horizontal"==t.orientation?t.handleValue+"%":null,"vertical"==t.orientation?t.handleValue+"%":null)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const E=function(o){return{"p-slider-handle-active":o}};function L(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"span",7,8),e.NdJ("keydown",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onHandleKeydown(i,0))})("mousedown",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onMouseDown(i,0))})("touchstart",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchStart(i,0))})("touchmove",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchMove(i,0))})("touchend",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchEnd(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(9,D,t.rangeStartLeft,t.rangeStartBottom))("ngClass",e.VKq(12,E,0==t.handleIndex)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[0]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}function h(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"span",7,9),e.NdJ("keydown",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onHandleKeydown(i,1))})("mousedown",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onMouseDown(i,1))})("touchstart",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchStart(i,1))})("touchmove",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchMove(i,1))})("touchend",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onTouchEnd(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(9,D,t.rangeEndLeft,t.rangeEndBottom))("ngClass",e.VKq(12,E,1==t.handleIndex)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[1]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const p=function(o,n,t,a){return{"p-slider p-component":!0,"p-disabled":o,"p-slider-horizontal":n,"p-slider-vertical":t,"p-slider-animate":a}},O={provide:f.JU,useExisting:(0,e.Gpc)(()=>v),multi:!0};class v{constructor(n,t,a,i){this.el=n,this.renderer=t,this.ngZone=a,this.cd=i,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new e.vpe,this.onSlideEnd=new e.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(n,t){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=t,this.bindDragListeners(),n.target.focus(),n.preventDefault(),this.animate&&_.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(n,t){if(!this.disabled){var a=n.changedTouches[0];this.startHandleValue=this.range?this.handleValues[t]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=t,"horizontal"===this.orientation?(this.startx=parseInt(a.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(a.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&_.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),n.preventDefault()}}onTouchMove(n,t){if(!this.disabled){var a=n.changedTouches[0],i=0;i="horizontal"===this.orientation?Math.floor(100*(parseInt(a.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(a.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(n,i),n.preventDefault()}}onTouchEnd(n,t){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:n,values:this.values}):this.onSlideEnd.emit({originalEvent:n,value:this.value}),this.animate&&_.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),n.preventDefault())}onBarClick(n){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(n)),this.sliderHandleClick=!1)}onHandleKeydown(n,t){this.disabled||(38==n.which||39==n.which?this.spin(n,1,t):(37==n.which||40==n.which)&&this.spin(n,-1,t))}spin(n,t,a){let i=(this.step||1)*t;this.range?(this.handleIndex=a,this.updateValue(this.values[this.handleIndex]+i),this.updateHandleValue()):(this.updateValue(this.value+i),this.updateHandleValue()),n.preventDefault()}handleChange(n){let t=this.calculateHandleValue(n);this.setValueFromHandle(n,t)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const n=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(n,"mousemove",t=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(t)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(n,"mouseup",t=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:t,values:this.values}):this.onSlideEnd.emit({originalEvent:t,value:this.value}),this.animate&&_.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(n,t){this.sliderHandleClick=!1;let a=this.getValueFromHandle(t);this.range?this.step?this.handleStepChange(a,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=t,this.updateValue(a,n)):this.step?this.handleStepChange(a,this.value):(this.handleValue=t,this.updateValue(a,n)),this.cd.markForCheck()}handleStepChange(n,t){let a=n-t,i=t;a<0?i=t+Math.ceil(n/this.step-t/this.step)*this.step:a>0&&(i=t+Math.floor(n/this.step-t/this.step)*this.step),this.updateValue(i),this.updateHandleValue()}writeValue(n){this.range?this.values=n||[0,0]:this.value=n||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let n=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=n.left+_.p.getWindowScrollLeft(),this.initY=n.top+_.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(n){return"horizontal"===this.orientation?100*(n.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-n.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(n,t){if(this.range){let a=n;0==this.handleIndex?(a<this.min?(a=this.min,this.handleValues[0]=0):a>this.values[1]&&a>this.max&&(a=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(a>this.max?(a=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):a<this.min?(a=this.min,this.handleValues[1]=0):a<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(a);let i=[this.minVal,this.maxVal];this.onModelChange(i),this.onChange.emit({event:t,values:this.values})}else n<this.min?(n=this.min,this.handleValue=0):n>this.max&&(n=this.max,this.handleValue=100),this.value=this.getNormalizedValue(n),this.onModelChange(this.value),this.onChange.emit({event:t,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(n){return(this.max-this.min)*(n/100)+this.min}getDecimalsCount(n){return n&&Math.floor(n)!==n&&n.toString().split(".")[1].length||0}getNormalizedValue(n){let t=this.getDecimalsCount(this.step);return t>0?+parseFloat(n.toString()).toFixed(t):Math.floor(n)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}v.\u0275fac=function(n){return new(n||v)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO))},v.\u0275cmp=e.Xpm({type:v,selectors:[["p-slider"]],viewQuery:function(n,t){if(1&n&&(e.Gf(d,5),e.Gf(M,5),e.Gf(g,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.sliderHandle=a.first),e.iGM(a=e.CRH())&&(t.sliderHandleStart=a.first),e.iGM(a=e.CRH())&&(t.sliderHandleEnd=a.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[e._Bn([O])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(i){return t.onBarClick(i)}),e.YNc(1,l,1,4,"span",1),e.YNc(2,r,1,4,"span",1),e.YNc(3,T,1,3,"span",1),e.YNc(4,S,1,3,"span",1),e.YNc(5,y,2,11,"span",2),e.YNc(6,L,2,14,"span",3),e.YNc(7,h,2,14,"span",3),e.qZA()),2&n&&(e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.l5B(11,p,t.disabled,"horizontal"==t.orientation,"vertical"==t.orientation,t.animate)),e.xp6(1),e.Q6J("ngIf",t.range&&"horizontal"==t.orientation),e.xp6(1),e.Q6J("ngIf",t.range&&"vertical"==t.orientation),e.xp6(1),e.Q6J("ngIf",!t.range&&"vertical"==t.orientation),e.xp6(1),e.Q6J("ngIf",!t.range&&"horizontal"==t.orientation),e.xp6(1),e.Q6J("ngIf",!t.range),e.xp6(1),e.Q6J("ngIf",t.range),e.xp6(1),e.Q6J("ngIf",t.range))},dependencies:[c.mk,c.O5,c.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0});class C{}C.\u0275fac=function(n){return new(n||C)},C.\u0275mod=e.oAB({type:C,declarations:[v],imports:[c.ez],exports:[v]}),C.\u0275inj=e.cJS({imports:[c.ez]})}}]);