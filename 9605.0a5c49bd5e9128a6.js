"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9605],{9605:(ee,q,a)=>{a.r(q),a.d(q,{ComunicacaoEmailPageModule:()=>X});var l=a(70655),e=a(98274),h=a(36895),b=a(24006),D=a(48058),Y=a(92216),P=a(39528);let I=class{constructor(t){this.activatedRoute=t,this.currentTab="email-send",this.currentTab=this.activatedRoute.snapshot.queryParamMap.get("tab")||"email-send"}ngOnInit(){}changeTab(t){this.currentTab=t.detail.value}};I.ctorParameters=()=>[{type:P.gz}],I=(0,l.gn)([(0,e.wA2)({selector:"app-comunicacao-email",template:'<ion-header [translucent]="true">\n  <ion-toolbar>\n    <ion-buttons slot="start">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Emails</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content appScrollTheme>\n  <ion-segment class="background-segment mb-2" [(ngModel)]="currentTab" [ngModelOptions]="{standalone: true}"\n    (ionChange)="changeTab($event)">\n    <ion-segment-button style="margin-left: 5px; max-width: 200px" layout="icon-start" value="email-send">\n      <ion-icon style="font-size: 1.2em" name="mail-outline"></ion-icon>\n      <ion-label text-wrap class="wrap-text" style="font-size: 1.1em">\n        E-mail\n      </ion-label>\n    </ion-segment-button>\n  </ion-segment>\n\n  <div class="wall-background">\n    <ng-container *ngIf="currentTab === \'email-send\'">\n      <div style="max-width: 95%; margin: auto">\n        <app-email-send></app-email-send>\n      </div>\n    </ng-container>\n  </div>\n</ion-content>',styles:[""]})],I);const f=[{path:"",component:I}];let m=class{};m=(0,l.gn)([(0,e.LVF)({imports:[P.Bz.forChild(f)],exports:[P.Bz]})],m);var y=a(85226),_=a(35593),Z=a(82210),W=a(15861),H=a(11481),le=a(49770),re=a(45191),ae=a(83905),te=a(50727),G=a(54968),ce=a(34782),ie=a(95577),pe=a(34049),ue=a(54482),de=a(25403);function ne(o,t=pe.z){return(0,ue.e)((i,n)=>{let s=null,r=null,u=null;const v=()=>{if(s){s.unsubscribe(),s=null;const c=r;r=null,n.next(c)}};function C(){const c=u+o,p=t.now();if(p<c)return s=this.schedule(void 0,c-p),void n.add(s);v()}i.subscribe((0,de.x)(n,c=>{r=c,u=t.now(),s||(s=t.schedule(C,o),n.add(s))},()=>{v(),n.complete()},void 0,()=>{r=s=null}))})}function he(o,t){1&o&&e._UZ(0,"div",2)}function me(o,t){1&o&&e._UZ(0,"pre",2)}function fe(o,t){if(1&o&&(e.ynx(0),e.YNc(1,he,1,0,"div",1),e.YNc(2,me,1,0,"pre",1),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.preserve),e.xp6(1),e.Q6J("ngIf",i.preserve)}}function ge(o,t){1&o&&e._UZ(0,"div",2)}function ve(o,t){1&o&&e._UZ(0,"pre",2)}function ye(o,t){if(1&o&&(e.ynx(0),e.YNc(1,ge,1,0,"div",1),e.YNc(2,ve,1,0,"pre",1),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.preserve),e.xp6(1),e.Q6J("ngIf",i.preserve)}}const Ce=[[["","quill-editor-toolbar",""]]];function _e(o,t){1&o&&e._UZ(0,"div",1)}function Ie(o,t){1&o&&e._UZ(0,"pre",1)}const K={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},A=(o,t)=>o||t||"html",se=new e.OlP("config",{providedIn:"root",factory:()=>({modules:K})});class E{constructor(t,i){var n=this;this.config=i,this.quill$=(0,le.P)((0,W.Z)(function*(){if(!n.Quill){const s=n.document.addEventListener;n.document.addEventListener=n.document.__zone_symbol__addEventListener||n.document.addEventListener;const r=yield a.e(9971).then(a.t.bind(a,89971,19));n.document.addEventListener=s,n.Quill=r.default?r.default:r}return n.config.customOptions?.forEach(s=>{const r=n.Quill.import(s.import);r.whitelist=s.whitelist,n.Quill.register(r,!0,n.config.suppressGlobalRegisterWarning)}),yield n.registerCustomModules(n.Quill,n.config.customModules,n.config.suppressGlobalRegisterWarning)})).pipe((0,ce.d)({bufferSize:1,refCount:!0})),this.document=t.get(h.K0),this.config||(this.config={modules:K})}getQuill(){return this.quill$}registerCustomModules(t,i,n){return(0,W.Z)(function*(){if(Array.isArray(i))for(let{implementation:s,path:r}of i)(0,re.b)(s)&&(s=yield(0,ae.z)(s)),t.register(r,s,n);return t})()}}E.\u0275fac=function(t){return new(t||E)(e.LFG(e.zs3),e.LFG(se,8))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"});class w{constructor(t,i,n,s,r,u,v,C){this.elementRef=i,this.cd=n,this.domSanitizer=s,this.platformId=r,this.renderer=u,this.zone=v,this.service=C,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(c,p)=>{let d=p.querySelector(".ql-editor").innerHTML;("<p><br></p>"===d||"<div><br></div>"===d)&&(d=this.defaultEmptyValue);let g=d;const B=A(this.format,this.service.config.format);if("text"===B)g=c.getText();else if("object"===B)g=c.getContents();else if("json"===B)try{g=JSON.stringify(c.getContents())}catch{g=c.getText()}return g},this.valueSetter=(c,p)=>{const d=A(this.format,this.service.config.format);if("html"===d)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(p=this.domSanitizer.sanitize(e.q3G.HTML,p)),c.clipboard.convert(p);if("json"===d)try{return JSON.parse(p)}catch{return[{insert:p}]}return p},this.selectionChangeHandler=(c,p,d)=>{const g=!c&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!g||this.zone.run(()=>{null===c?this.onBlur.emit({editor:this.quillEditor,source:d}):null===p&&this.onFocus.emit({editor:this.quillEditor,source:d}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:p,range:c,source:d}),g&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(c,p,d)=>{const g=this.quillEditor.getText(),B=this.quillEditor.getContents();let S=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===S||"<div><br></div>"===S)&&(S=this.defaultEmptyValue);const k=this.trackChanges||this.service.config.trackChanges,oe=("user"===d||k&&"all"===k)&&!!this.onModelChange;!this.onContentChanged.observed&&!oe||this.zone.run(()=>{oe&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:B,delta:c,editor:this.quillEditor,html:S,oldDelta:p,source:d,text:g}),this.cd.markForCheck()})},this.editorChangeHandler=(c,p,d,g)=>{if(this.onEditorChanged.observed)if("text-change"===c){const B=this.quillEditor.getText(),S=this.quillEditor.getContents();let k=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===k||"<div><br></div>"===k)&&(k=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:S,delta:p,editor:this.quillEditor,event:c,html:k,oldDelta:d,source:g,text:B}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:c,oldRange:d,range:p,source:g}),this.cd.markForCheck()})},this.document=t.get(h.K0)}static normalizeClassNames(t){return t.trim().split(" ").reduce((n,s)=>{const r=s.trim();return r&&n.push(r),n},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,h.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,ie.z)(t=>this.service.registerCustomModules(t,this.customModules))).subscribe(t=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),n=Object.assign({},this.modules||this.service.config.modules);i?n.toolbar=i:void 0===n.toolbar&&(n.toolbar=K.toolbar);let s=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===s&&(s="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(d=>{this.renderer.setStyle(this.editorElem,d,this.styles[d])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(d=>{const g=t.import(d.import);g.whitelist=d.whitelist,t.register(g,!0)});let r=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;r||(r=this.service.config.bounds?this.service.config.bounds:this.document.body);let u=this.debug;!u&&!1!==u&&this.service.config.debug&&(u=this.service.config.debug);let v=this.readOnly;!v&&!1!==this.readOnly&&(v=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let C=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(C=this.service.config.defaultEmptyValue);let c=this.scrollingContainer;!c&&null!==this.scrollingContainer&&(c=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let p=this.formats;if(!p&&void 0===p&&(p=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new t(this.editorElem,{bounds:r,debug:u,formats:p,modules:n,placeholder:s,readOnly:v,defaultEmptyValue:C,scrollingContainer:c,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const g=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");g?.dataset&&(g.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===A(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const g=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(g,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(t){if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=t.defaultEmptyValue.currentValue),t.styles){const i=t.styles.currentValue,n=t.styles.previousValue;n&&Object.keys(n).forEach(s=>{this.renderer.removeStyle(this.editorElem,s)}),i&&Object.keys(i).forEach(s=>{this.renderer.setStyle(this.editorElem,s,this.styles[s])})}if(t.classes){const i=t.classes.currentValue,n=t.classes.previousValue;n&&this.removeClasses(n),i&&this.addClasses(i)}t.debounceTime&&this.addQuillEventListeners()}}addClasses(t){w.normalizeClassNames(t).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(t){w.normalizeClassNames(t).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(t){if(this.filterNull&&null===t||(this.content=t,!this.quillEditor))return;const i=A(this.format,this.service.config.format),n=this.valueSetter(this.quillEditor,t);if(this.compareValues){const s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(n))return}t?"text"===i?this.quillEditor.setText(t):this.quillEditor.setContents(n):this.quillEditor.setText("")}setDisabledState(t=this.disabled){this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}registerOnValidatorChange(t){this.onValidatorChanged=t}validate(){if(!this.quillEditor)return null;const t={};let i=!0;const n=this.quillEditor.getText(),s=this.trimOnValidation?n.trim().length:1===n.length&&0===n.trim().length?0:n.length-1,r=this.quillEditor.getContents().ops,u=r&&1===r.length&&["\n",""].includes(r[0].insert);return this.minLength&&s&&s<this.minLength&&(t.minLengthError={given:s,minLength:this.minLength},i=!1),this.maxLength&&s>this.maxLength&&(t.maxLengthError={given:s,maxLength:this.maxLength},i=!1),this.required&&!s&&u&&(t.requiredError={empty:!0},i=!1),i?null:t}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new te.w0,this.subscription.add((0,G.R)(this.quillEditor,"selection-change").subscribe(([n,s,r])=>{this.selectionChangeHandler(n,s,r)}));let t=(0,G.R)(this.quillEditor,"text-change"),i=(0,G.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(t=t.pipe(ne(this.debounceTime)),i=i.pipe(ne(this.debounceTime))),this.subscription.add(t.subscribe(([n,s,r])=>{this.textChangeHandler(n,s,r)})),this.subscription.add(i.subscribe(([n,s,r,u])=>{this.editorChangeHandler(n,s,r,u)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}w.\u0275fac=function(t){return new(t||w)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(H.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(E))},w.\u0275dir=e.lG2({type:w,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]});class O extends w{constructor(t,i,n,s,r,u,v,C){super(t,i,n,s,r,u,v,C)}}O.\u0275fac=function(t){return new(t||O)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(H.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(E))},O.\u0275cmp=e.Xpm({type:O,selectors:[["quill-editor"]],features:[e._Bn([{multi:!0,provide:b.JU,useExisting:(0,e.Gpc)(()=>O)},{multi:!0,provide:b.Cf,useExisting:(0,e.Gpc)(()=>O)}]),e.qOj],ngContentSelectors:["[quill-editor-toolbar]"],decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(t,i){1&t&&(e.F$t(Ce),e.YNc(0,fe,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,ye,3,2,"ng-container",0)),2&t&&(e.Q6J("ngIf","top"!==i.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===i.toolbarPosition))},dependencies:[h.O5],styles:[":host{display:inline-block}\n"],encapsulation:2});class V{constructor(t,i){this.sanitizer=t,this.service=i,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(t){if(t.theme){const i=t.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow");this.themeClass=`ql-${i} ngx-quill-view-html`}else if(!this.theme){const i=this.service.config.theme?this.service.config.theme:"snow";this.themeClass=`ql-${i} ngx-quill-view-html`}if(t.content){const i=t.content.currentValue,n=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=n?i:this.sanitizer.bypassSecurityTrustHtml(i)}}}V.\u0275fac=function(t){return new(t||V)(e.Y36(H.H7),e.Y36(E))},V.\u0275cmp=e.Xpm({type:V,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},features:[e.TTD],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&t&&(e.Q6J("ngClass",i.themeClass),e.xp6(1),e.Q6J("innerHTML",i.innerHTML,e.oJD))},dependencies:[h.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2});class L{constructor(t,i,n,s,r,u){this.elementRef=t,this.renderer=i,this.zone=n,this.service=s,this.domSanitizer=r,this.platformId=u,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(v,C)=>{const c=A(this.format,this.service.config.format);let p=C;if("text"===c)v.setText(p);else{if("html"===c)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(C=this.domSanitizer.sanitize(e.q3G.HTML,C)),p=v.clipboard.convert(C);else if("json"===c)try{p=JSON.parse(C)}catch{p=[{insert:C}]}v.setContents(p)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(t){!this.quillEditor||t.content&&this.valueSetter(this.quillEditor,t.content.currentValue)}ngAfterViewInit(){(0,h.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,ie.z)(t=>this.service.registerCustomModules(t,this.customModules))).subscribe(t=>{const i=Object.assign({},this.modules||this.service.config.modules);i.toolbar=!1,this.customOptions.forEach(u=>{const v=t.import(u.import);v.whitelist=u.whitelist,t.register(v,!0)});let n=this.debug;!n&&!1!==n&&this.service.config.debug&&(n=this.service.config.debug);let s=this.formats;!s&&void 0===s&&(s=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const r=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new t(this.editorElem,{debug:n,formats:s,modules:i,readOnly:!0,strict:this.strict,theme:r})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}}L.\u0275fac=function(t){return new(t||L)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(E),e.Y36(H.H7),e.Y36(e.Lbi))},L.\u0275cmp=e.Xpm({type:L,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},features:[e.TTD],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(t,i){1&t&&(e.YNc(0,_e,1,0,"div",0),e.YNc(1,Ie,1,0,"pre",0)),2&t&&(e.Q6J("ngIf",!i.preserve),e.xp6(1),e.Q6J("ngIf",i.preserve))},dependencies:[h.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2});class T{static forRoot(t){return{ngModule:T,providers:[{provide:se,useValue:t}]}}}T.\u0275fac=function(t){return new(t||T)},T.\u0275mod=e.oAB({type:T,declarations:[O,L,V],imports:[h.ez],exports:[O,L,V]}),T.\u0275inj=e.cJS({imports:[h.ez]});var Ee=a(92665),F=a(10805),R=a(51740);const xe=["inputtext"];function we(o,t){1&o&&e.GkF(0)}function Oe(o,t){if(1&o&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(n.field?n.resolveFieldData(i,n.field):i)}}function Te(o,t){if(1&o){const i=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(s){e.CHM(i);const r=e.oxw().index,u=e.oxw();return e.KtG(u.removeItem(s,r))}),e.qZA()}}const Me=function(o){return{$implicit:o}};function Be(o,t){if(1&o){const i=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(s){const u=e.CHM(i).$implicit,v=e.oxw();return e.KtG(v.onItemClick(s,u))}),e.YNc(2,we,1,0,"ng-container",9),e.YNc(3,Oe,2,1,"span",10),e.YNc(4,Te,1,0,"span",11),e.qZA()}if(2&o){const i=t.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",e.VKq(4,Me,i)),e.xp6(1),e.Q6J("ngIf",!n.itemTemplate),e.xp6(1),e.Q6J("ngIf",!n.disabled)}}function Se(o,t){if(1&o){const i=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.clear())}),e.qZA()}}const ke=function(o,t){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":o,"p-disabled":t}},qe=function(o){return{"p-chips-clearable":o}},Ve={provide:b.JU,useExisting:(0,e.Gpc)(()=>M),multi:!0};class M{constructor(t,i){this.el=t,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onChipClick=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.itemTemplate=t.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(n=>{this.addItem(t,n,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.value&&0!==this.value.length?this.filled=!0:this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,i){this.onChipClick.emit({originalEvent:t,value:i})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,i){if(t&&i){if(-1==i.indexOf("."))return t[i];{let r=i.split("."),u=t;for(var n=0,s=r.length;n<s;++n)u=u[r[n]];return u}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,i){if(this.disabled)return;let n=this.value[i];this.value=this.value.filter((s,r)=>r!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:n}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,i,n){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",n&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}M.\u0275fac=function(t){return new(t||M)(e.Y36(e.SBq),e.Y36(e.sBO))},M.\u0275cmp=e.Xpm({type:M,selectors:[["p-chips"]],contentQueries:function(t,i,n){if(1&t&&e.Suo(n,F.jx,4),2&t){let s;e.iGM(s=e.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&e.Gf(xe,5),2&t){let n;e.iGM(n=e.CRH())&&(i.inputViewChild=n.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([Ve])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,Be,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(s){return i.onKeydown(s)})("input",function(){return i.onInput()})("paste",function(s){return i.onPaste(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),e.qZA()(),e.TgZ(6,"li"),e.YNc(7,Se,1,0,"i",6),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,ke,i.focus,i.disabled)),e.xp6(1),e.Q6J("ngForOf",i.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,qe,i.showClear&&!i.disabled)),e.xp6(1),e.Tol(i.inputStyleClass),e.Q6J("disabled",i.disabled)("ngStyle",i.inputStyle),e.uIk("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(3),e.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[h.mk,h.sg,h.O5,h.tP,h.PC],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0});class z{}z.\u0275fac=function(t){return new(t||z)},z.\u0275mod=e.oAB({type:z,declarations:[M],imports:[h.ez,R.j,F.m8],exports:[M,R.j,F.m8]}),z.\u0275inj=e.cJS({imports:[h.ez,R.j,F.m8,R.j,F.m8]});var Qe=a(40363),De=a(59256),N=a(98739),Pe=a(35326);let Q=class{constructor(t,i,n,s){this.modalCtrl=t,this.formBuilder=i,this.emailService=n,this.toastService=s,this.subscriptions=new te.w0}ngOnInit(){const t=this.emailService.getEmailList();this.form=this.formBuilder.group({subject:[,[b.kI.required]],html:[,[b.kI.required]],email_list:[t,[b.kI.required]]})}ngOnDestroy(){this.emailService.clearEmailList(),this.subscriptions.unsubscribe()}isInputError(t){return!(this.form.controls[t].untouched||!this.form.controls[t].errors)}disableCreateBtn(){return!this.form.valid}sendEmail(){const s={subject:this.form.get("subject").value,html:this.form.get("html").value,email_list:this.form.get("email_list").value},r=this.emailService.sendHtmlEmail(s).subscribe(u=>{this.toastService.presentToast({detalhe:"E-mail inserido na fila para processamento!",duracao:N.m4.mediumDuration,gravidade:N.kl.INFORMACAO,titulo:"Em fila..."}),this.form.reset()});this.subscriptions.add(r)}addTo({value:t}){if(!Pe.r.checkIfEmail(t)){this.toastService.presentToast({detalhe:`'${t}' n\xe3o \xe9 um e-mail v\xe1lido!`,duracao:N.m4.shortDuration,gravidade:N.kl.ATENCAO,titulo:"E-mail inv\xe1lido!"});const n=this.form.get("email_list").value,s=n.indexOf(t);n.splice(s,1),this.form.get("email_list").setValue(n),this.form.updateValueAndValidity()}}show(){}showModal(t,i){var n=this;return(0,W.Z)(function*(){return yield(yield n.modalCtrl.create({component:t,backdropDismiss:!1,cssClass:"modal-size-80",componentProps:i})).present()})()}};Q.ctorParameters=()=>[{type:D.IN},{type:b.QS},{type:Qe.j},{type:De.D}],Q.propDecorators={email_list:[{type:e.IIB}]},Q=(0,l.gn)([(0,e.wA2)({selector:"app-email-send",template:'<ng-container>\n  <form [formGroup]="form" (ngSubmit)="$event.preventDefault()">\n    <div class=" px-4 py-8 md:px-6 lg:px-8 ">\n      <div class="text-900 font-medium text-xl mb-1">Enviar e-mail</div>\n      <div class="surface-card p-4 shadow-2 border-round p-fluid h-screen">\n        <div class="grid formgrid p-fluid">\n          <div class="field mb-4 col-12 ">\n            <label for="subject" class="font-medium text-900">Para</label>\n            <p-chips  id="subject" placeholder="Para" [addOnBlur]="true" formControlName="email_list" \n            (onAdd)="addTo($event)" separator=","></p-chips>\n            <div class="flex mt-1 justify-content-end">\n              <p-message severity="error" text="Obrigat\xf3rio" *ngIf="isInputError(\'email_list\')"></p-message>\n            </div>\n          </div>\n          <div class="field mb-4 col-12 ">\n            <label for="subject" class="font-medium text-900">T\xedtulo</label>\n            <input id="subject" placeholder="T\xedtulo" type="text" pInputText formControlName="subject">\n            <div class="flex mt-1 justify-content-end">\n              <p-message severity="error" text="Obrigat\xf3rio" *ngIf="isInputError(\'subject\')"></p-message>\n            </div>\n          </div>\n\n          <div class="field mb-4 col-12 ">\n            <quill-editor classes=" " id="html" formControlName="html" placeholder="Corpo do email"></quill-editor>\n            <div class="flex mt-1 justify-content-end">\n              <p-message severity="error" text="Obrigat\xf3rio" *ngIf="isInputError(\'html\')"></p-message>\n            </div>\n          </div>\n\n        </div>\n        <div class="surface-border border-top-1 opacity-50 mb-4 col-12 mt-6"></div>\n\n        <div class="flex justify-content-between mt-1 mb-3">\n          <button pButton pRipple label="Limpar" icon="pi pi-times" iconPos="right" class="w-auto" (click)="form.reset()"\n            ></button>\n          <button pButton pRipple label="Salvar" icon="pi pi-send" iconPos="right" class="w-auto" (click)="sendEmail()"\n            [disabled]="disableCreateBtn()"></button>\n        </div>\n      </div>\n    </div>\n  </form>\n</ng-container>',styles:[""]})],Q);let U=class{constructor(){}ngOnInit(){}};U.ctorParameters=()=>[],U=(0,l.gn)([(0,e.wA2)({selector:"app-email-programacao-create",template:"<p>\n  email-programacao-create works!\n</p>\n",styles:[""]})],U);let j=class{constructor(){}ngOnInit(){}};j.ctorParameters=()=>[],j=(0,l.gn)([(0,e.wA2)({selector:"app-email-programacao-list",template:"<p>\n  email-programacao-list works!\n</p>\n",styles:[""]})],j);let $=class{};$=(0,l.gn)([(0,e.LVF)({declarations:[Q,U,j],imports:[h.ez,b.u5,b.UX,D.Pc,z,Ee.O,_.hJ,R.j,Z.kW,T.forRoot({modules:{toolbar:{container:[[{color:"#ffffff",background:"#ffffff"}]]}}})],exports:[Q,U,j]})],$);let X=class{};X=(0,l.gn)([(0,e.LVF)({imports:[h.ez,b.u5,D.Pc,Y.uH,m,$,y.o],declarations:[I]})],X)},35326:(ee,q,a)=>{a.d(q,{r:()=>l});class l{static checkIfEmail(h){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/gi.test(h)}static ClearSpecialCharacters(h){return!h||h.trim().length<=0?"":h.replace(/[^a-zA-Z0-9]/g,"").trim()}}},92665:(ee,q,a)=>{a.d(q,{O:()=>I});var l=a(98274),e=a(36895);function h(f,m){if(1&f&&l._UZ(0,"span",6),2&f){const y=l.oxw(3);l.Q6J("innerHTML",y.text,l.oJD)}}function b(f,m){if(1&f&&(l.TgZ(0,"div"),l.YNc(1,h,1,1,"span",5),l.qZA()),2&f){const y=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!y.escape)}}function D(f,m){if(1&f&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&f){const y=l.oxw(3);l.xp6(1),l.Oqu(y.text)}}function Y(f,m){if(1&f&&l.YNc(0,D,2,1,"span",7),2&f){const y=l.oxw(2);l.Q6J("ngIf",y.escape)}}const P=function(f,m,y,_,Z){return{"p-inline-message-info":f,"p-inline-message-warn":m,"p-inline-message-error":y,"p-inline-message-success":_,"p-inline-message-icon-only":Z}};function J(f,m){if(1&f&&(l.TgZ(0,"div",1),l._UZ(1,"span",2),l.YNc(2,b,2,1,"div",3),l.YNc(3,Y,1,1,"ng-template",null,4,l.W1O),l.qZA()),2&f){const y=l.MAs(4),_=l.oxw();l.Tol(_.styleClass),l.Q6J("ngStyle",_.style)("ngClass",l.qbA(7,P,"info"===_.severity,"warn"===_.severity,"error"===_.severity,"success"===_.severity,null==_.text)),l.xp6(1),l.Q6J("ngClass",_.icon),l.xp6(1),l.Q6J("ngIf",!_.escape)("ngIfElse",y)}}class x{constructor(){this.escape=!0}get icon(){let m=null;if(this.severity)switch(this.severity){case"success":m="pi pi-check";break;case"info":default:m="pi pi-info-circle";break;case"error":m="pi pi-times-circle";break;case"warn":m="pi pi-exclamation-triangle"}return m}}x.\u0275fac=function(m){return new(m||x)},x.\u0275cmp=l.Xpm({type:x,selectors:[["p-message"]],hostAttrs:[1,"p-element"],inputs:{severity:"severity",text:"text",escape:"escape",style:"style",styleClass:"styleClass"},decls:1,vars:1,consts:[["aria-live","polite","class","p-inline-message p-component p-inline-message",3,"ngStyle","class","ngClass",4,"ngIf"],["aria-live","polite",1,"p-inline-message","p-component","p-inline-message",3,"ngStyle","ngClass"],[1,"p-inline-message-icon",3,"ngClass"],[4,"ngIf","ngIfElse"],["escapeOut",""],["class","p-inline-message-text",3,"innerHTML",4,"ngIf"],[1,"p-inline-message-text",3,"innerHTML"],["class","p-inline-message-text",4,"ngIf"],[1,"p-inline-message-text"]],template:function(m,y){1&m&&l.YNc(0,J,5,13,"div",0),2&m&&l.Q6J("ngIf",y.severity)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-inline-message{display:inline-flex;align-items:center;justify-content:center;vertical-align:top}.p-inline-message-icon-only .p-inline-message-text{visibility:hidden;width:0}.p-fluid .p-inline-message{display:flex}\n"],encapsulation:2,changeDetection:0});class I{}I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=l.oAB({type:I,declarations:[x],imports:[e.ez],exports:[x]}),I.\u0275inj=l.cJS({imports:[e.ez]})}}]);